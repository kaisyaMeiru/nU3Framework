# nU3.Tools.Deployer 사용자 가이드

## 1. 개요
Deployer는 시스템 관리자 및 개발자가 nU3 Framework 환경을 구성하고 모듈을 배포하기 위한 통합 도구입니다. 서버(`nU3.Server.Host`)와의 연결을 통해 모듈 버전 관리, 메뉴 구성, 권한 설정을 수행합니다.

## 2. 주요 기능 및 탭 구성

### 2.1 프로그램모듈 배포 (Program Deploy)
비즈니스 로직이 담긴 DLL(`Modules` 폴더)을 배포합니다.
- **Smart Upload**: DLL 파일을 선택하면 `DllMetadataParser`가 `[nU3ProgramInfo]`를 스캔하여 모듈 ID, 버전, 프로그램 목록을 자동으로 추출하고 등록합니다.
- **Bulk Upload**: 폴더를 선택하여 포함된 모든 DLL을 일괄 스캔 및 업로드합니다.
- **Scan & Validate**: 로컬 DLL과 서버 버전을 비교하여 변경된 파일만 필터링하거나, 메타데이터 오류(중복 ID 등)를 검증합니다.

### 2.2 프레임워크모듈 배포 (Framework Deploy)
프레임워크 코어(`nU3.Core.dll`), 서드파티 라이브러리(`DevExpress.*.dll`), 실행 파일, 설정 파일 등을 배포합니다.
- **InstallPath 지원**: 파일별로 설치될 상대 경로(예: `plugins`, `resources\images`)를 지정할 수 있습니다.
- **필수 여부(Required)**: 필수 컴포넌트로 지정되면 클라이언트 부팅 시 설치 실패 시 실행이 차단됩니다.
- **우선순위(Priority)**: 설치 순서를 제어합니다 (낮은 값 우선).

### 2.3 메뉴 관리 (Menu Management)
`SYS_MENU` 테이블을 트리 형태로 시각화하여 관리합니다.
- **드래그 앤 드롭**: 메뉴 구조를 직관적으로 변경할 수 있습니다.
- **프로그램 연결**: 등록된 프로그램 목록에서 메뉴로 매핑합니다.
- **권한 레벨 설정**: 메뉴 접근에 필요한 최소 권한 레벨을 지정합니다.

### 2.4 권한 관리 (Security Management)
사용자 역할 및 프로그램별 상세 권한을 관리합니다.

## 3. 서버 연결 설정
Deployer 실행 시 `appsettings.json` 또는 UI 상단의 연결 테스트 버튼을 통해 서버 상태를 확인합니다.
- **연결 테스트**: DB, 파일 전송, 로그 업로드 서비스의 상태를 종합 점검합니다.
- **상태 표시**: 상단 바에 서버 URL과 연결 상태(🟢/🔴)가 표시됩니다.

## 4. 배포 프로세스 (Best Practice)
1. **서버 연결 확인**: 상단 상태바가 녹색(🟢)인지 확인합니다.
2. **모듈 스캔**: '프로그램모듈 배포' 탭에서 빌드된 DLL 폴더를 스캔합니다.
3. **검증**: 스캔 목록에서 경고(⚠)가 없는지 확인합니다.
4. **업로드**: 변경된 모듈을 선택하여 'Smart Upload' 또는 'Bulk Upload'를 수행합니다.
5. **메뉴 구성**: 신규 프로그램이 추가된 경우 '메뉴 관리' 탭에서 메뉴 트리에 추가하고 저장합니다.
6. **클라이언트 확인**: Bootstrapper를 실행하여 업데이트가 정상적으로 진행되는지 확인합니다.

---
(c) 2026 nU3 Framework
